"use strict";(self["webpackChunkportfolio"]=self["webpackChunkportfolio"]||[]).push([[953],{3953:function(e,t,a){a.r(t),a.d(t,{default:function(){return c}});var r=function(){var e=this,t=e._self._c;return t("div",[t("el-table",{attrs:{data:e.tableData,height:"77vh",stripe:"",s:"",tyle:"width:100%;","row-style":e.rowState,"header-cell-style":e.headercellstyle,"cell-style":e.cellstyle,border:""}},[t("el-table-column",{attrs:{type:"index",width:"50",align:"center"}}),e._l(e.render_header,(function(a){return t("el-table-column",{key:a.prop,attrs:{prop:a.prop,label:a.label,width:a.width,align:a.align},scopedSlots:e._u([{key:"default",fn:function(r){return[a.slot?t("div",["input"==a.type?t("div",[t("el-input",{model:{value:r.row[a.prop],callback:function(t){e.$set(r.row,a.prop,t)},expression:"scope.row[item.prop]"}})],1):e._e()]):t("div",[e._v(" "+e._s(r.row[a.prop])+" ")])]}}],null,!0)})}))],2),t("br"),t("el-button",{attrs:{type:"primary"},on:{click:e.save}},[e._v("存檔")])],1)},l=[],d=a(2726),o="",n={props:{userStatic:{type:Object},api_interface:{type:Object}},data(){return{data_structure:{},tableData:[],total:0,currentPage:1,pageSize:10,show_page:!0,getempid:"",getAddStatus:new Date}},methods:{save:function(){let e=this,t=new FormData;e.tableData.forEach((function(e,a,r){t.append("Name[]",e.name),t.append("Value[]",e.value),t.append("Unit[]",e.unit),t.append("Memo[]",e.memo)})),t.append("token",e.$token);const a=e.$loading({lock:!0,text:"資料讀取中，請稍後。",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"});o=e.api_interface.save_data,e.$http({url:o,method:"put",data:t,headers:{SkyGet:e.$token}}).then((t=>{"Y"==t.data.status?e.$message.success("存檔成功!!"):e.$message.error(t.data.message)})).catch((t=>{e.tableData=[],e.$message({message:"系統發生錯誤"+t,type:"error",duration:0,showClose:!0})})).finally((()=>a.close()))},headercellstyle:function(e,t,a,r){return{"text-align":"center","border-left":" 3px solid #EBEEF5","border-bottom":" 3px solid #EBEEF5","border-top":" 3px solid #EBEEF5"}},cellstyle:function(e,t,a,r){return{"border-left":" 3px solid #EBEEF5","border-bottom":" 3px solid #EBEEF5"}},rowdblclick:function(){},rowState:function(){},getempdata:function(e){this.getempid=e.row.emp_id},getinsertStatus:function(e){this.getAddStatus=new Date},current_change:function(){},current_change_std:function(){},size_change:function(){},size_change_std:function(){},get_data:function(){let e=this;const t=e.$loading({lock:!0,text:"資料讀取中，請稍後。",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"});o=e.api_interface.get_data,e.$http({url:o,method:"get",headers:{SkyGet:e.$token}}).then((t=>{"Y"==t.data.status?e.tableData=t.data.dataset:(e.studata=[],e.$tableData.error("查無資料，請確認"))})).catch((t=>{e.tableData=[],e.$message({message:"系統發生錯誤"+t,type:"error",duration:0,showClose:!0})})).finally((()=>t.close()))}},components:{},beforeDestroy(){},mounted(){this.get_data()},beforeMount(){switch(this.userStatic.data_structure){case"SystemSetup":this.data_structure=d.vK;break;default:}},computed:{render_header(){let e=this.data_structure.header.filter((e=>"N"===e.hidden)).sort((function(e,t){return e.sort>t.sort?1:-1}));return e}}},i=n,p=a(1001),s=(0,p.Z)(i,r,l,!1,null,null,null),c=s.exports},2726:function(e,t,a){a.d(t,{Ac:function(){return r},Q_:function(){return d},vK:function(){return l}});const r={tea_hedaer:[{label:"教師員編",width:"",prop:"emp_id",col:"emp_id",parameter:"Y",hidden:"N",sort:1,defult:""},{label:"教師姓名",width:"",prop:"emp_name",col:"emp_name",parameter:"N",hidden:"N",sort:2,defult:""},{label:"教郵e-mail",width:"",prop:"emp_email",col:"emp_email",parameter:"N",hidden:"N",sort:3,defult:""}],cls_header:[{label:"學年",width:"50",prop:"year_id",col:"year_id",parameter:"N",hidden:"N",sort:1,defult:""},{label:"學期",width:"50",prop:"sms_id",col:"sms_id",parameter:"N",hidden:"N",sort:2,defult:""},{label:"班級名稱",width:"110",prop:"cls_abr",col:"cls_abr",parameter:"N",hidden:"N",sort:3,defult:""},{label:"班級代碼",width:"",prop:"cls_code",col:"cls_code",parameter:"N",hidden:"Y",sort:4,defult:""},{label:"",width:"",prop:"deg_id",col:"deg_id",parameter:"N",hidden:"Y",sort:0,defult:""},{label:"",width:"",prop:"dep_id",col:"dep_id",parameter:"N",hidden:"Y",sort:0,defult:""},{label:"",width:"",prop:"bra_id",col:"bra_id",parameter:"N",hidden:"Y",sort:0,defult:""},{label:"",width:"",prop:"grd_id",col:"grd_id",parameter:"N",hidden:"Y",sort:0,defult:""},{label:"",width:"",prop:"cls_id",col:"cls_id",parameter:"N",hidden:"Y",sort:0,defult:""}],consult_header:[{label:"學年",width:"",prop:"a",col:"year_id",parameter:"Y",hidden:"N",sort:1,defult:""},{label:"學期",width:"",prop:"b",col:"sms_id",parameter:"Y",hidden:"N",sort:2,defult:""},{label:"班級名稱",width:"",prop:"c",col:"cls_abr",parameter:"N",hidden:"N",sort:3,defult:""},{label:"班級代碼",width:"",prop:"d",col:"cls_id",parameter:"Y",hidden:"Y",sort:4,defult:""}],delete_rule:{},save_rule:{}},l={header:[{label:"項目",width:"",prop:"name",col:"name",parameter:"Y",hidden:"N",sort:2,defult:"",align:"left",slot:!1,type:"default",index:"N"},{label:"數量",width:"",prop:"value",col:"value",parameter:"Y",hidden:"N",sort:3,defult:"",align:"center",slot:!0,type:"input",index:"N"},{label:"單位",width:"",prop:"unit",col:"unit",parameter:"Y",hidden:"N",sort:4,defult:"",align:"center",slot:!0,type:"input",index:"N"},{label:"說明",width:"",prop:"memo",col:"memo",parameter:"Y",hidden:"N",sort:5,defult:"",align:"center",slot:!0,type:"input",index:"N"}],delete_rule:{},save_rule:{}},d={header:[{label:"學年",width:"100",prop:"year_id",col:"year_id",parameter:"Y",hidden:"N",sort:1,defult:"",align:"left",slot:!1,type:"input",index:"N"},{label:"學期",width:"100",prop:"sms_id",col:"sms_id",parameter:"Y",hidden:"N",sort:2,defult:"",align:"center",slot:!1,type:"input",index:"N"},{label:"項目",width:"",prop:"type_id",col:"type_id",parameter:"Y",hidden:"N",sort:3,defult:"",align:"center",slot:!0,type:"select",index:"N"},{label:"開放日期",width:"",prop:"startdate",col:"startdate",parameter:"Y",hidden:"N",sort:4,defult:"",align:"center",slot:!0,type:"date",index:"N"},{label:"結束日期",width:"",prop:"enddate",col:"enddate",parameter:"Y",hidden:"N",sort:5,defult:"",align:"center",slot:!0,type:"date",index:"N"}],delete_rule:{},save_rule:{}}}}]);